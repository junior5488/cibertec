(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jkDv:function(e,r,t){"use strict";t.r(r),t.d(r,"AdminModule",(function(){return N}));var n=t("ofXK"),o=t("CHqn"),s=t("tyNb"),i=t("fXoL");function a(e,r){if(1&e&&(i.Mb(0,"th"),i.ic(1),i.Lb()),2&e){const e=r.$implicit;i.zb(1),i.kc(" ",e," ")}}const c=function(e){return["./",e]};function b(e,r){if(1&e){const e=i.Nb();i.Mb(0,"tr"),i.Mb(1,"td"),i.ic(2),i.Lb(),i.Mb(3,"td"),i.ic(4),i.Lb(),i.Mb(5,"td"),i.ic(6),i.Lb(),i.Mb(7,"td"),i.ic(8),i.Lb(),i.Mb(9,"td"),i.ic(10),i.Lb(),i.Mb(11,"td"),i.ic(12),i.Lb(),i.Mb(13,"td"),i.Mb(14,"button",6),i.Ub("click",(function(){i.ec(e);const t=r.$implicit;return i.Wb().deleteUser(t.id)})),i.ic(15," Eliminar "),i.Lb(),i.Mb(16,"button",7),i.ic(17," Editar "),i.Lb(),i.Lb(),i.Lb()}if(2&e){const e=r.$implicit,t=r.index;i.zb(2),i.jc(t+1),i.zb(2),i.jc(e.name),i.zb(2),i.jc(e.lastName),i.zb(2),i.jc(e.email),i.zb(2),i.jc(e.role),i.zb(2),i.jc(e.phone),i.zb(4),i.Zb("routerLink",i.bc(7,c,e.id))}}const l=function(){return["./new"]};let u=(()=>{class e{constructor(e){this.userService=e,this.titles=["#","Nombres","Apellidos","Correo Electr\xf3nico","Rol","Tel\xe9fono"],this.users=[]}ngOnInit(){this.userService.getAllUsers().subscribe(e=>this.users=e)}deleteUser(e){this.userService.deleteUser(e).subscribe(()=>{this.users=this.users.filter(r=>r.id!=e)})}}return e.\u0275fac=function(r){return new(r||e)(i.Jb(o.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-users"]],decls:13,vars:4,consts:[[1,"columns"],[1,"column","is-10","is-offset-1"],[1,"title","has-text-centered","is-2"],[1,"button","is-info",3,"routerLink"],[1,"table","is-striped","is-hoverable","is-bordered","is-fullwidth"],[4,"ngFor","ngForOf"],[1,"button","is-small","is-danger",3,"click"],[1,"button","is-small","is-info",3,"routerLink"]],template:function(e,r){1&e&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"h2",2),i.ic(3,"Lista de Usuarios"),i.Lb(),i.Mb(4,"a",3),i.ic(5," Nuevo Usuario "),i.Lb(),i.Kb(6,"br"),i.Kb(7,"br"),i.Mb(8,"table",4),i.Mb(9,"thead"),i.hc(10,a,2,1,"th",5),i.Lb(),i.Mb(11,"tbody"),i.hc(12,b,18,9,"tr",5),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.zb(4),i.Zb("routerLink",i.ac(3,l)),i.zb(6),i.Zb("ngForOf",r.titles),i.zb(2),i.Zb("ngForOf",r.users))},directives:[s.d,n.h,s.c],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.button.is-small[_ngcontent-%COMP%]{margin:0 .3rem}"]}),e})();var d=t("3Pt+");function m(e,r){1&e&&(i.Mb(0,"p",16),i.ic(1," El nombre es requerido. "),i.Lb())}function p(e,r){1&e&&(i.Mb(0,"p",16),i.ic(1," Los Apellidos son requeridos. "),i.Lb())}function h(e,r){1&e&&(i.Mb(0,"p",16),i.ic(1," El correo electr\xf3nico es requerido. "),i.Lb())}function f(e,r){1&e&&(i.Mb(0,"p",16),i.ic(1," El rol es requerido. "),i.Lb())}function v(e,r){1&e&&(i.Mb(0,"p",16),i.ic(1," La contrase\xf1a es requerida, minimo de caracteres (6). "),i.Lb())}function L(e,r){1&e&&(i.Mb(0,"p",16),i.ic(1," El n\xfamero telef\xf3nico es requerido, minimo de caracteres (7). "),i.Lb())}let g=(()=>{class e{constructor(e){this.location=e,this.isLoading=!1,this.onSaveForm=new i.n}ngOnInit(){this.userForm=new d.e({name:new d.c(this.model.name||"",[d.o.required]),lastName:new d.c(this.model.lastName||"",[d.o.required]),email:new d.c(this.model.email||"",[d.o.required,d.o.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]),role:new d.c(this.model.role||"",[d.o.required]),password:new d.c(this.model.password||"",[d.o.required,d.o.minLength(6)]),phone:new d.c(this.model.phone||"",[d.o.required,d.o.minLength(7),d.o.pattern("^(0|[1-9][0-9]*)$")])})}onBack(){this.location.back()}onSubmit(){const{value:e,valid:r}=this.userForm;r&&(this.model.id&&(e.id=this.model.id),this.onSaveForm.emit(e))}}return e.\u0275fac=function(r){return new(r||e)(i.Jb(n.f))},e.\u0275cmp=i.Db({type:e,selectors:[["app-user-form"]],inputs:{model:"model"},outputs:{onSaveForm:"onSaveForm"},decls:35,vars:22,consts:[[1,"container"],[1,"columns"],[1,"column","is-8","is-offset-2"],["novalidate","","autocomplete","off",3,"formGroup","submit"],[1,"field"],[1,"control"],["type","text","formControlName","name","placeholder","Ingresar nombres",1,"input"],["class","help is-danger",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Ingresar apellidos",1,"input"],["type","text","formControlName","email","placeholder","Ingresar correo electr\xf3nico",1,"input"],["type","text","formControlName","role","placeholder","Ingresar roles",1,"input"],["type","password","formControlName","password","placeholder","Ingresar contrase\xf1a, m\xednimo 6 caracteres",1,"input"],["type","text","formControlName","phone","placeholder","Telefono",1,"input"],[1,"field","is-grouped","is-grouped-centered"],["type","button",1,"button",3,"click"],["type","submit",1,"button","is-dark",3,"disabled"],[1,"help","is-danger"]],template:function(e,r){1&e&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"div",2),i.Mb(3,"form",3),i.Ub("submit",(function(){return r.onSubmit()})),i.Mb(4,"div",4),i.Mb(5,"div",5),i.Kb(6,"input",6),i.hc(7,m,2,0,"p",7),i.Lb(),i.Lb(),i.Mb(8,"div",4),i.Mb(9,"div",5),i.Kb(10,"input",8),i.hc(11,p,2,0,"p",7),i.Lb(),i.Lb(),i.Mb(12,"div",4),i.Mb(13,"div",5),i.Kb(14,"input",9),i.hc(15,h,2,0,"p",7),i.Lb(),i.Lb(),i.Mb(16,"div",4),i.Mb(17,"div",5),i.Kb(18,"input",10),i.hc(19,f,2,0,"p",7),i.Lb(),i.Lb(),i.Mb(20,"div",4),i.Mb(21,"div",5),i.Kb(22,"input",11),i.hc(23,v,2,0,"p",7),i.Lb(),i.Lb(),i.Mb(24,"div",4),i.Mb(25,"div",5),i.Kb(26,"input",12),i.hc(27,L,2,0,"p",7),i.Lb(),i.Lb(),i.Mb(28,"div",13),i.Mb(29,"p",5),i.Mb(30,"button",14),i.Ub("click",(function(){return r.onBack()})),i.ic(31," Regresar "),i.Lb(),i.Lb(),i.Mb(32,"p",5),i.Mb(33,"button",15),i.ic(34," Guardar "),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.zb(3),i.Zb("formGroup",r.userForm),i.zb(3),i.Bb("is-danger",r.userForm.controls.name.invalid&&r.userForm.controls.name.touched),i.zb(1),i.Zb("ngIf",r.userForm.controls.name.invalid&&r.userForm.controls.name.touched),i.zb(3),i.Bb("is-danger",r.userForm.controls.lastName.invalid&&r.userForm.controls.lastName.touched),i.zb(1),i.Zb("ngIf",r.userForm.controls.lastName.invalid&&r.userForm.controls.lastName.touched),i.zb(3),i.Bb("is-danger",r.userForm.controls.email.invalid&&r.userForm.controls.email.touched),i.zb(1),i.Zb("ngIf",r.userForm.controls.email.invalid&&r.userForm.controls.email.touched),i.zb(3),i.Bb("is-danger",r.userForm.controls.role.invalid&&r.userForm.controls.role.touched),i.zb(1),i.Zb("ngIf",r.userForm.controls.role.invalid&&r.userForm.controls.role.touched),i.zb(3),i.Bb("is-danger",r.userForm.controls.password.invalid&&r.userForm.controls.password.touched),i.zb(1),i.Zb("ngIf",r.userForm.controls.password.invalid&&r.userForm.controls.password.touched),i.zb(3),i.Bb("is-danger",r.userForm.controls.phone.invalid&&r.userForm.controls.phone.touched),i.zb(1),i.Zb("ngIf",r.userForm.controls.phone.invalid&&r.userForm.controls.phone.touched),i.zb(6),i.Bb("is-loading",r.isLoading),i.Zb("disabled",r.userForm.invalid))},directives:[d.p,d.j,d.f,d.a,d.i,d.d,n.i],styles:[""]}),e})();const M=function(){return{}};let F=(()=>{class e{constructor(e,r){this.router=e,this.userService=r}ngOnInit(){}onSaveUser(e){this.userService.createUser(e).subscribe(()=>{this.router.navigate(["/admin/users"])})}}return e.\u0275fac=function(r){return new(r||e)(i.Jb(s.b),i.Jb(o.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-user-new"]],decls:5,vars:2,consts:[[1,"columns"],[1,"column","is-10","is-offset-1"],[1,"subtitle","is-3","has-text-centered"],[3,"model","onSaveForm"]],template:function(e,r){1&e&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"h2",2),i.ic(3,"Crear Usuario"),i.Lb(),i.Mb(4,"app-user-form",3),i.Ub("onSaveForm",(function(e){return r.onSaveUser(e)})),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.zb(4),i.Zb("model",i.ac(1,M)))},directives:[g],styles:[""]}),e})();function w(e,r){if(1&e){const e=i.Nb();i.Mb(0,"div",1),i.Mb(1,"div",2),i.Mb(2,"h2",3),i.ic(3,"Actualizar Usuario"),i.Lb(),i.Mb(4,"app-user-form",4),i.Ub("onSaveForm",(function(r){return i.ec(e),i.Wb().onSaveUser(r)})),i.Lb(),i.Lb(),i.Lb()}if(2&e){const e=i.Wb();i.zb(4),i.Zb("model",e.user)}}let z=(()=>{class e{constructor(e,r,t){this.route=e,this.router=r,this.userService=t}ngOnInit(){this.route.paramMap.subscribe(e=>{const r=e.get("id");this.userService.getUserById(+r).subscribe(e=>{this.user=e})})}onSaveUser(e){console.log("User (que pasa??)->",e),this.userService.updateUser(e).subscribe(()=>{this.router.navigate(["/admin/users"])})}}return e.\u0275fac=function(r){return new(r||e)(i.Jb(s.a),i.Jb(s.b),i.Jb(o.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-user-edit"]],decls:1,vars:1,consts:[["class","columns",4,"ngIf"],[1,"columns"],[1,"column","is-10","is-offset-1"],[1,"subtitle","is-3","has-text-centered"],[3,"model","onSaveForm"]],template:function(e,r){1&e&&i.hc(0,w,5,1,"div",0),2&e&&i.Zb("ngIf",r.user)},directives:[n.i,g],styles:[""]}),e})();var y=t("IYfF");let k=(()=>{class e{transform(e){return console.log("Cabecera... ",e),`${e.name} ${e.lastName} - ${e.role}`}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=i.Ib({name:"datauser",type:e,pure:!0}),e})(),C=(()=>{class e{constructor(){this.handleClick=new i.n}ngOnInit(){console.log("usuario que llega....",this.user)}onClick(){console.log("da click !"),this.handleClick.emit()}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=i.Db({type:e,selectors:[["app-header"]],inputs:{user:"user"},outputs:{handleClick:"handleClick"},decls:20,vars:5,consts:[["role","navigation","aria-label","main navigation",1,"navbar","is-dark"],[1,"navbar-brand"],[1,"navbar-item"],["src","/assets/images/angular-logo.svg","width","50","height","50"],["role","button","aria-label","menu","aria-expanded","false","data-target","navbarBasicExample",1,"navbar-burger","burger"],["aria-hidden","true"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-end"],[2,"margin","0 1.3em"],[1,"buttons"],[1,"button","is-small","is-info",3,"click"]],template:function(e,r){1&e&&(i.Mb(0,"nav",0),i.Mb(1,"div",1),i.Mb(2,"a",2),i.Kb(3,"img",3),i.ic(4,"Panel de Control "),i.Lb(),i.Mb(5,"a",4),i.Kb(6,"span",5),i.Kb(7,"span",5),i.Kb(8,"span",5),i.Lb(),i.Lb(),i.Mb(9,"div",6),i.Mb(10,"div",7),i.Mb(11,"div",2),i.Mb(12,"span",8),i.ic(13),i.Xb(14,"uppercase"),i.Xb(15,"datauser"),i.Lb(),i.Mb(16,"div",9),i.Mb(17,"a",10),i.Ub("click",(function(){return r.onClick()})),i.Mb(18,"span"),i.ic(19," Cerrar Sesi\xf3n "),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.zb(13),i.kc(" ",i.Yb(14,1,i.Yb(15,3,r.user))," "))},pipes:[n.l,k],styles:[""]}),e})(),S=(()=>{class e{constructor(){}ngOnInit(){const e=new Date;this.year=e.getFullYear()}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=i.Db({type:e,selectors:[["app-footer"]],decls:6,vars:1,consts:[[1,"footer"],[1,"content","has-text-centered"],[1,"has-text-centered"]],template:function(e,r){1&e&&(i.Mb(0,"footer",0),i.Mb(1,"div",1),i.Mb(2,"p",2),i.Mb(3,"strong"),i.ic(4,"by Guillermo Junior Chavez Valverde"),i.Lb(),i.ic(5),i.Lb(),i.Lb(),i.Lb()),2&e&&(i.zb(5),i.kc(" desarrollado en Angular 9 \xa9 ",r.year," "))},styles:[".footer[_ngcontent-%COMP%]{background:#f5f5f5;padding:1.5em}"]}),e})();const I=[{path:"",component:(()=>{class e{constructor(e,r){this.authService=e,this.router=r}ngOnInit(){this.user=this.authService.currentUserValue}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/login"])})}}return e.\u0275fac=function(r){return new(r||e)(i.Jb(y.a),i.Jb(s.b))},e.\u0275cmp=i.Db({type:e,selectors:[["app-admin"]],decls:7,vars:1,consts:[[3,"user","handleClick"],[1,"hero","is-fullheight-with-navbar","is-light"],[1,"hero-body"],[1,"container"],[1,"hero-foot"]],template:function(e,r){1&e&&(i.Mb(0,"app-header",0),i.Ub("handleClick",(function(){return r.logout()})),i.Lb(),i.Mb(1,"section",1),i.Mb(2,"div",2),i.Mb(3,"div",3),i.Kb(4,"router-outlet"),i.Lb(),i.Lb(),i.Mb(5,"div",4),i.Kb(6,"app-footer"),i.Lb(),i.Lb()),2&e&&i.Zb("user",r.user)},directives:[C,s.f,S],encapsulation:2}),e})(),children:[{path:"users",component:u},{path:"users/new",component:F},{path:"users/:id",component:z},{path:"",redirectTo:"users",pathMatch:"full"}]}];let U=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(r){return new(r||e)},imports:[[s.e.forChild(I)],s.e]}),e})(),N=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(r){return new(r||e)},providers:[o.a],imports:[[n.b,U,d.m]]}),e})()}}]);